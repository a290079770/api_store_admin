webpackJsonp([7],{558:function(t,e,i){i(602);var n=i(221)(i(571),i(618),null,null);t.exports=n.exports},571:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{winHeight:window.innerHeight,dataList:[],dialogVisible:!1,keyWord:"",isSuperAdmin:3==JSON.parse(sessionStorage.userInfo).UserType}},methods:{getDataList:function(){var t=this;this.$http.get("/api/apiList",{params:{ProductId:this.$route.query.proId,keywords:this.keyWord}}).then(function(e){200==e.data.code?t.dataList=e.data.data:t.$message.error(e.data.description)})},createOrUpdateApi:function(t,e){var i={proId:this.$route.query.proId},n=1==t?"/admin/apiCreate":"/admin/apiUpdate";2==t&&(i.apiId=e.Id),this.$router.push({path:n,query:i})},handleViewApiDetail:function(t,e){this.$router.push({path:"/admin/apiDetail",query:{apiId:t.Id,proId:this.$route.query.proId}})},handleSizeChange:function(t){this.pageCount=t,this.currentPage=1,this.getDataList()},handleCurrentChange:function(t){this.currentPage=t,this.getDataList()}},mounted:function(){var t=this;this.$route.query.proId||this.$alert("获取产品ID失败，请检查!","提示",{confirmButtonText:"确定",type:"error",callback:function(e){t.$router.push("/admin/products")}}),this.setWindow(window.innerWidth,window.innerHeight),this.getDataList(),window.onresize=function(){t.setWindow(window.innerWidth,window.innerHeight)}}}},590:function(t,e,i){e=t.exports=i(553)(!1),e.push([t.i,".side-bar{background:#eef1ec}.el-table__body-wrapper{overflow:hidden!important}",""])},602:function(t,e,i){var n=i(590);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(554)("a2820124",n,!0)},618:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index-cont",style:{height:t.winHeight+"px",width:"92%",margin:"30px auto"}},[t._m(0),t._v(" "),i("el-row",[i("el-col",{attrs:{span:16}},[t.isSuperAdmin?i("el-button",{attrs:{size:"success",icon:"el-icon-plus"},on:{click:function(e){t.createOrUpdateApi(1)}}},[t._v("新增API")]):i("span",[t._v(" ")])],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-input",{attrs:{placeholder:"请输入中文名称/接口名查找","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getDataList(e):null}},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}})],1)],1),t._v(" "),t._l(t.dataList,function(e,n){return i("div",[i("h3",{staticClass:"apilist-title"},[t._v(t._s(e.Title))]),t._v(" "),i("el-table",{attrs:{data:e.ItemList,border:!0}},[i("el-table-column",{attrs:{label:"编号",prop:"Id",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{label:"接口名称",width:"150",prop:"Title"}}),t._v(" "),i("el-table-column",{attrs:{label:"中文说明",prop:"ApiTitle"}}),t._v(" "),i("el-table-column",{attrs:{label:"请求方式",align:"center",prop:"Methods",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{prop:"address",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){t.handleViewApiDetail(e.row,e.$index)}}},[t._v("查看")]),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isSuperAdmin,expression:"isSuperAdmin"}],attrs:{size:"small",type:"success"},on:{click:function(i){t.createOrUpdateApi(2,e.row)}}},[t._v("修改")])]}}])})],1)],1)})],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-page-title"},[i("h3",[t._v("\n       API列表\n     ")]),t._v(" "),i("span",{staticClass:"yellow-place"})])}]}}});