webpackJsonp([1],{564:function(t,e,i){i(600);var o=i(222)(i(576),i(617),null,null);t.exports=o.exports},576:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(611),n=i.n(o);e.default={data:function(){return{dataList:[],dialogVisible:!1,keyWord:"",ps:10,cp:1,totalCount:0,pid:null,isSuperAdmin:3==JSON.parse(sessionStorage.userInfo).UserType}},components:{ProductModal:n.a},methods:{getDataList:function(){var t=this;this.apiTransfer("get","/product/productList",{ps:this.ps,cp:this.cp,keywords:this.keyWord},function(e){200==e.data.code?(t.dataList=e.data.data,t.totalCount=e.data.recordCount):t.$message({message:e.data.description,type:"error"})})},openProductDialog:function(t,e,i){1==t?this.pid=null:2==t&&(this.pid=i.Id),this.dialogVisible=!0},closeDialog:function(t){this.dialogVisible=!1,t&&this.getDataList()},handleAddProduct:function(){this.dialogVisible=!1},toApiList:function(t){this.$router.push({path:"/admin/apiList",query:{proId:t}})},handleEdit:function(t,e){var i=this;this.$confirm("审核通过?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$message({type:"success",message:"审核通过(功能演示)！"})}).catch(function(){})},handleDelete:function(t,e){var i=this;this.$confirm("该操作会删除该产品及其下所有的API，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$message({type:"success",message:"删除成功！"})}).catch(function(){})},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},handleSizeChange:function(t){this.ps=t,this.cp=1,this.getDataList()},handleCurrentChange:function(t){this.cp=t,console.log("in"),this.getDataList()}},mounted:function(){var t=this;this.setWindow(window.innerWidth,window.innerHeight),this.getDataList(),window.onresize=function(){t.setWindow(window.innerWidth,window.innerHeight)}}}},579:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["dialogVisible","pid"],data:function(){return{product:{},productRules:{Title:[{required:!0,message:"请输入产品名称",trigger:"blur"}],Description:[{required:!0,message:"请输入产品描述",trigger:"blur"}],Url:[{required:!0,message:"请输入产品地址",trigger:"blur"}]}}},methods:{getProdDetail:function(){var t=this;this.pid&&this.$http.get("/product/detail",{params:{Id:this.pid}}).then(function(e){200==e.data.code?t.product=e.data.data:t.$message({message:e.data.description,type:"error"})})},createOrUpdateProduct:function(){var t=this;this.$refs.productModal.validate(function(e){e&&t.$http.post("/product/createOrUpdate",t.product).then(function(e){200==e.data.code?(t.$message({message:t.pid?"修改产品信息成功！":"新增产品成功！",type:"success"}),t.closeDialog(!0)):t.$message({message:e.data.description,type:"error"})})})},closeDialog:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("closeDialog",t)}}}},585:function(t,e,i){e=t.exports=i(555)(!1),e.push([t.i,".side-bar{background:#eef1ec}.el-table__body-wrapper{overflow:hidden!important}",""])},588:function(t,e,i){e=t.exports=i(555)(!1),e.push([t.i,".side-bar{background:#eef1ec}.el-table__body-wrapper{overflow:hidden!important}",""])},597:function(t,e,i){var o=i(585);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i(556)("152c20ac",o,!0)},600:function(t,e,i){var o=i(588);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i(556)("5854ac58",o,!0)},611:function(t,e,i){i(597);var o=i(222)(i(579),i(614),null,null);t.exports=o.exports},614:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.pid?"修改产品信息":"新增产品",visible:t.dialogVisible,top:"20vh",width:"60%","show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e},open:t.getProdDetail,close:function(e){t.product={}}}},[i("el-form",{ref:"productModal",attrs:{"label-position":"right","label-width":"120px",model:t.product,rules:t.productRules}},[i("el-form-item",{attrs:{label:"产品名称",prop:"Title"}},[i("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:t.product.Title,callback:function(e){t.$set(t.product,"Title",e)},expression:"product.Title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"产品描述",prop:"Description"}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入产品描述"},model:{value:t.product.Description,callback:function(e){t.$set(t.product,"Description",e)},expression:"product.Description"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"产品地址",prop:"Url"}},[i("el-input",{attrs:{placeholder:"请输入产品地址"},model:{value:t.product.Url,callback:function(e){t.$set(t.product,"Url",e)},expression:"product.Url"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.createOrUpdateProduct}},[t._v("确 定")]),t._v(" "),i("el-button",{on:{click:t.closeDialog}},[t._v("取 消")])],1)],1)},staticRenderFns:[]}},617:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index-cont",style:{width:"92%",margin:"30px auto"}},[t._m(0),t._v(" "),i("el-row",[i("el-col",{attrs:{span:18}},[t.isSuperAdmin?i("el-button",{attrs:{size:"success",icon:"el-icon-plus"},on:{click:function(e){t.openProductDialog(1)}}},[t._v("新增产品")]):i("span",[t._v(" ")])],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-input",{attrs:{placeholder:"请输入产品名称查找","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getDataList(e):null}},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}})],1)],1),t._v(" "),i("el-table",{staticStyle:{"margin-top":"30px"},attrs:{data:t.dataList,border:!0}},[i("el-table-column",{attrs:{prop:"Title",label:"产品名称",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{prop:"Description",label:"产品描述","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{prop:"address",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){t.toApiList(e.row.Id)}}},[t._v("API列表")]),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isSuperAdmin,expression:"isSuperAdmin"}],attrs:{size:"small",type:"success"},on:{click:function(i){t.openProductDialog(2,e.$index,e.row)}}},[t._v("修改")])]}}])})],1),t._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"right","margin-top":"10px"}},[i("el-pagination",{attrs:{"current-page":t.cp,"page-sizes":[10,20,30,40],"page-size":t.ps,layout:"total, sizes, prev, pager, next",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),i("ProductModal",{attrs:{dialogVisible:t.dialogVisible,pid:t.pid},on:{closeDialog:t.closeDialog}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-page-title"},[i("h3",[t._v("\n         产品管理\n       ")]),t._v(" "),i("span",{staticClass:"yellow-place"})])}]}}});